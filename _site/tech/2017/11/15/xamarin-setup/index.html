<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Brad Kwon's site">

    <title>Xamarin Android Emulator Setup in Visual Studio 2017 - Brad Kwon</title>

    <link rel="canonical" href="http://localhost:4000/tech/2017/11/15/xamarin-setup/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosanskr.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Brad Kwon" />

    <style>
        .back-to-top {
            cursor: pointer;
            position: fixed;
            bottom: 20px;
            right: 20px;
            display:none;
            opacity: 0.5;
        }

        *::-webkit-media-controls-start-playback-button {
            display: none!important;
            -webkit-appearance: none;
        }
    </style>

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!-- <a class="navbar-brand" href="/"></a> -->
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about">Who Am I</a>
                </li>
                <li>
                    <a href="/contact">Contact</a>
                </li>
                <li>
                    <a href="/tech">Tech</a>
                </li>
                <li>
                    <a href="/blog">Blog</a>
                </li>
                <li>
                    <a href="/tags">Tags</a>
                </li>
                <!-- 
				
                <li>
                    <a href="/about/">Who am I</a>
                </li>
				
                
				
                <li>
                    <a href="/contact/">Contact</a>
                </li>
				
                
				
                <li>
                    <a href="/tags/">Tags</a>
                </li>
				
                
				
                <li>
                    <a href="/tech/index.html">Tech</a>
                </li>
				
                
				
                <li>
                    <a href="/blog/index.html">Blog</a>
                </li>
				
                 -->
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/tech/img/20171115/xamarin-android-emulator-setup.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Xamarin Android Emulator Setup in Visual Studio 2017</h1>
                    
                    <h2 class="subheading">with Visual Studio Emulator for Android</h2>
                    
                    <span class="meta">Posted by Brad Kwon on November 15, 2017</span>
                    

<span class="glyphicon glyphicon-tag" aria-hidden="true" aria-label="Tags" style="vertical-align:middle;"></span>

<a href="/tags/#Xamarin"><small class="text-primary">Xamarin</small></a><small>, </small>

<a href="/tags/#Visual Studio"><small class="text-primary">Visual Studio</small></a><small>, </small>

<a href="/tags/#C#"><small class="text-primary">C#</small></a><small>, </small>

<a href="/tags/#Mobile"><small class="text-primary">Mobile</small></a><small>, </small>

<a href="/tags/#Android"><small class="text-primary">Android</small></a><small></small>


                </div>  
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>
I've recently started to learn Xamarin to build any mobile app with C# because I've mainly used C# for programming. 
The concept of Xamarin which is write-once, run everywhere seemed quite attractive so I decided to learn it.  
</p>
<p>
What I had to do at first is to set up Xamarin development environment. 
I chose a Visual Studio 2017 community version. 
For iOS deployment, I have to use either an iMac or a Macbook. 
As I only have Windows environment, so I decided to go with android first and try out the <a href="https://www.xamarin.com/live" target="_blank">Xamarin Live Player</a> app for iOS deployment. 
The live player function enables developers to deploy iOS apps to their actual iPhones via the live player app.
</p>
<p>
To install the Visual Studio 2017 was easy as well as Xamarin development tools. 
I could choose whatever tools I want to install on the workload while installing.
</p>
<p><a class="popupImg">
    <img src="https://developer.xamarin.com/guides/cross-platform/troubleshooting/questions/visualstudio-2017-rc/Images/install1-orig.png" alt="Visual Studio Installer Workloads View" />
</a>
<span class="caption text-muted">Visual Studio Installer Workloads View</span></p>
<p>
The problem was when I tried to deploy an Android project to an emulator. 
I found out that there are two types of emulators. One is using Android SDK and another is using Visual Studio Emulator for Android. 
After taking a closer look on them, I found out that Visual Studio Emulator for Android is much faster than Android SDK 
so I installed it through Visual Studio installer again. 
You can select it to install in the Individual components &gt; Emulators menu.
</p>
<p><a class="popupImg">
    <img src="https://social.msdn.microsoft.com/Forums/getfile/1012756" alt="Visual Studio Installer Individual components View" />
</a>
<span class="caption text-muted">Choose Visual Studio Emulator for Android under Emulators if it is not selected.</span></p>
<p>
I installed that emulator on my computer and tried to deploy again. 
But this time, I couldn’t see anything running on the emulator although everything looked fine.
</p>
<p><a class="popupImg">
    <img src="/tech/img/20171115/xamarin-android-emulator-setup1.jpg" alt="Debugging running view" />
</a>
<span class="caption text-muted">Everything seems fine.</span></p>
<p>
So I googled what went wrong and finally reached this page.
</p>
<blockquote><a href="https://forums.xamarin.com/discussion/62307/xamarin-android-projects-failed-to-deploy-in-visual-studio-emulator-for-android" target="_blank">https://forums.xamarin.com/discussion/62307/xamarin-android-projects-failed-to-deploy-in-visual-studio-emulator-for-android</a></blockquote>
<p>
My case came under both the CPU compatibility and the registry.
</p>
<p>
My CPU was Intel i7-6600U and its code name is SkyLake and this CPU has an issue with Hyper-V that the Visual Studio Emulator for Android depends on. In order to sort this out, I followed this step.
</p>
<ol>
    <li>Open the Hyper-V Manager and go to settings of the virtual device.</li>
    <a class="popupImg">
        <img src="/tech/img/20171115/xamarin-android-emulator-setup2.jpg" alt="Hyper-V Manager main view" />
    </a>
    <span class="caption text-muted">Right-click on the emulator you want to set up and choose settings.</span>
    <li>Check off “Migrate to a physical computer with a different processor version” in the Processor &gt; Compatibility menu.</li>
    <a class="popupImg">
        <img src="/tech/img/20171115/xamarin-android-emulator-setup3.jpg" alt="Hyper-V Manager processor compatibility configuration view" />
    </a>
</ol>
<p>
Secondly, for the registry for Android SDK Tools path, I created a new “Android SDK Tools” key under <blockquote>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\</blockquote> because there wasn’t existing key like others. Then I added a string value with “Path” for name and the Android SDK full path on my computer for data. 
I could get the Android SDK full path from <blockquote>Visual Studio &gt; Tools &gt; Options &gt; Xamarin &gt; Android Settings &gt; Android SDK Location</blockquote>
</p>
<p><a class="popupImg">
    <img src="/tech/img/20171115/xamarin-android-emulator-setup4.jpg" alt="Visual Studio tools options view" />
</a>
<span class="caption text-muted">Copy and paste it to the registry.</span></p>
<p>
Eventually, I could see something different on the output window after executing debugging.
</p>
<p><a class="popupImg">
    <img src="/tech/img/20171115/xamarin-android-emulator-setup5.jpg" alt="Visual Studio tools options view" />
</a>
<span class="caption text-muted">Deployment Success!!</span></p>
<blockquote><h2 class="section-heading">Happy Coding!</h2></blockquote>


                <hr>

                <div id="disqus_thread"></div>
                <script>
                
                /**
                *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                /*
                var disqus_config = function () {
                this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };
                */
                (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://brad-kwon.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>

    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <!-- <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li> -->
                    
                    
                    <li>
                        <a href="https://www.linkedin.com/in/BradKwon">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/hyeongu.kwon">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/BradKwon">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="mailto:junya815@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Brad Kwon 2017</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


    


    <a id="back-to-top" href="#" class="btn btn-primary back-to-top" role="button" 
        title="Click to return on the top page" data-toggle="tooltip" data-placement="left">
        <span class="glyphicon glyphicon-chevron-up"></span>
    </a>

    <div id="popupImage" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="width:80%;height:80%;">
            <div class="modal-content">
                <!-- <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div> -->
                <div class="modal-body">
                    <img id="popupImageUrl" class="img-responsive" />
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function(){
            $(window).scroll(function () {
                if ($(this).scrollTop() > 50) {
                    $('#back-to-top').fadeIn();
                } else {
                    $('#back-to-top').fadeOut();
                }
            });
            // scroll body to 0px on click
            $('#back-to-top').click(function () {
                $('#back-to-top').tooltip('hide');
                $('html').animate({
                    scrollTop: 0
                }, 800);
                return false;
            });
            
            $('#back-to-top').tooltip('show');
            
            $('div.container a.popupImg').click(function() {
                $('img#popupImageUrl').attr('src', $(this).find('img').attr('src'));
                $(this).attr('data-toggle','modal')
                        .attr('data-target','#popupImage');
            });

            $('div#popupImage').click(function() {
                $(this).modal('toggle');
            });
        });
    </script>
</body>

</html>
